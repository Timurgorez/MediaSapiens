'use strict';

window.onload = function () {

  /* конфигурация */
  var width = 314; // ширина изображения
  var clientWidth = document.documentElement.clientWidth;
  var count; // количество изображений
  function getScreen() {
    if (clientWidth > 1660) {
      count = 5;return count;
    };
    if (clientWidth > 1350) {
      count = 4;return count;
    };
    if (clientWidth > 1050) {
      count = 3;return count;
    };
    if (clientWidth > 767) {
      count = 2;return count;
    };
    if (clientWidth > 392) {
      count = 1;return count;
    };
  }

  var carousel = document.getElementById('carousel');
  var list = carousel.querySelector('ul');
  var listElems = carousel.querySelectorAll('li');

  var position = 0; // текущий сдвиг влево

  carousel.querySelector('.prev').onclick = function () {
    // сдвиг влево
    // последнее передвижение влево может быть не на 3, а на 2 или 1 элемент
    getScreen();
    position = Math.min(position + width * 1, 0);
    list.style.marginLeft = position + 'px';
  };

  carousel.querySelector('.next').onclick = function () {
    // сдвиг вправо
    // последнее передвижение вправо может быть не на 3, а на 2 или 1 элемент
    getScreen();
    position = Math.max(position - width * 1, -width * (listElems.length - count));
    list.style.marginLeft = position + 'px';
  };

  document.getElementById('map-opasity').onmouseover = function () {
    var opasityDiv = document.getElementById('map-opasity');
    opasityDiv.style.width = '1px';
  };
  document.getElementById('fon-map').onmouseout = function () {
    var opasityDiv = document.getElementById('map-opasity');
    opasityDiv.style.width = '100%';
  };
};