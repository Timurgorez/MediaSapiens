'use strict';

window.onload = function () {

  /* конфигурация */
  var width = 266; // ширина изображения
  var container = document.getElementById('con-carousel');
  var containerWidth = container.clientWidth || container.offsetWidth;
  var count; // количество изображений
  function getScreen() {
    if (containerWidth > 1139) {
      count = 4;return count;
    };
    if (containerWidth > 959) {
      count = 3;return count;
    };
    if (containerWidth > 719) {
      count = 2;return count;
    };
    if (containerWidth > 539) {
      count = 1;return count;
    };
    return count = 1;
  }

  var carousel = document.getElementById('carousel');
  var list = carousel.querySelector('ul');
  var listElems = carousel.querySelectorAll('li');

  var position = 0; // текущий сдвиг влево

  carousel.querySelector('.prev').onclick = function () {

    getScreen();
    position = Math.min(position + width * 1, 0);
    list.style.marginLeft = position + 'px';
  };

  carousel.querySelector('.next').onclick = function () {

    getScreen();
    position = Math.max(position - width * 1, -width * (listElems.length - count));
    list.style.marginLeft = position + 'px';
  };

  document.getElementById('map-opasity').onmouseover = function () {
    var opasityDiv = document.getElementById('map-opasity');
    opasityDiv.style.width = '1px';
  };
  document.getElementById('fon-map').onmouseout = function () {
    var opasityDiv = document.getElementById('map-opasity');
    opasityDiv.style.width = '90%';
  };
};